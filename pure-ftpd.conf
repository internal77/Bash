#############################################################
# # Configuration file for pure-ftpd wrappers # #
#############################################################
## Если вы решили использовать pure-FTPd с данным конфигурационным файлом
## а не запускать по умолчанию с опциями из командной строки, тогда
## необходимо выполнить следующую команду:
## /usr/sbin/pure-config.pl /usr/etc/pure-ftpd.conf
## Chroot'ить юзверов в их директориях

ChrootEveryone yes

## Если предыдущая опция установлено как "no", тогда челены данной группы
## не будут заперты в своей директории, при этом остальные будут chroot'ся,
## Если мы не хотим chroot'ить никого тогда необходимо закаментировать обе опции.

# TrustedGID 100

##Включить "фичи" совместимости, для кривых клиентов

BrokenClientsCompatibility no

## Максимальное число одновременных юзеров

MaxClientsNumber 10

## Работа в режиме демона

Daemonize yes

## Максимальное количество клиентов с одного IP - адреса

MaxClientsPerIP 3

## Если мы хотим логировать все команды клиентов тогда устанавливаем
## данную опцию "yes", если необходимо логирование ответов сервера
## просто продублируйте данную опцию.

VerboseLog no

## Разрешить скрытые файлы (начинающиеся с точки) или так называемые дот-файлы

AllowDotFiles yes

## Показывать дот-файлы даже если клиент не указал опцию "-а"

DisplayDotFiles yes

## Не разрешать аутентификацию юзеров, сервер будет работать
## только как анонимный обще доступный

AnonymousOnly yes

## Разрешать только аутентифицированных юзеров, запретить анонимный вход

NoAnonymous no

## Средства syslog (auth, authpriv, daemon, ftp, security, user, local*)
## Дефолт - "ftp". "none" - отключает логирование.

SyslogFacility no

## Показывать какие-то куки? (Display fortune cookies)

# FortunesFile /usr/share/fortune/zippy

## Не резольвить имена хостов в логах. Логи становятся менее информативными,
## но и ресурсов требуется меньше. "yes" - имеет смысл ставить на очень
## загруженных серверах, или при неработающем DNS.

DontResolve yes

## Максимальное время простоя (по окончании рвётся коннект), в минутах
## (default = 15 minutes)

MaxIdleTime 15

## Конфигурационный файл ЛДАП для более детальной информации смотрим README.LDAP

# LDAPConfigFile /etc/pure-ftpd/pureftpd-ldap.conf

## Конфигурационный файл MySQL для более детальной информации смотрим README.MySQL

# MySQLConfigFile /etc/pure-ftpd/pureftpd-mysql.conf

## Конфигурационный файл постгри для более детальной информации смотрим README.PGSQL

# PGSQLConfigFile /etc/pure-ftpd/pureftpd-pgsql.conf

## база данных юзеров PureDB (смотрите README.Virtual-Users)

# PureDB /etc/pure-ftpd/pureftpd.pdb

## путь к сокету pure-authd (смотрите README.Authentication-Modules)

# ExtAuth /var/run/ftpd.sock

## Для использования PAM аутентификации необходимо раскоментировать данную опцию

# PAMAuthentication yes

## Если мы собираемся использовать аутентификацию линукс (т.е. /etc/passwd)
## тогда раскоментируем опцию ниже

# UnixAuthentication yes

## Пожалуйста, отметтьте, что LDAPConfigFile, MySQLConfigFile,
## PAMAuthentication и UnixAuthentication могут использоваться только
## один раз, но они могут использоваться вместе. Например, если вы
## используете MySQLConfigFile, затем UnixAuthentication, то идёт запрос
## к MySQL. Если в БД такой пользователь не найден, то пробуется
## системный пользователь в /etc/passwd и /etc/shadow. Если SQL
## аутентификация неудачна по причине неправильного пароля, то происходит
## остановка дальнейшего поиска пользователя. Методы аутентификации
## будут ипользоваться в порядке в которм они заданы
## Пределы рекурсии команды 'ls'. Первй аргумент - максимально число файлов,
## которое будет показано. Второе - максимальное число подкаталогов

LimitRecursion 2000 8

## Данная опция разрешает или запрещает анонимам создовать директории

AnonymousCanCreateDirs no

## Если система загружена больше чем значение в данной
## опции, тогда анонима запрещается скачивание

MaxLoad 4

## Диапазон портов для пассивного соединения. Если у вас файрвол рубит
## стандартные диапазон.

PassivePortRange 30000 50000

## Force an IP address in PASV/EPSV/SPSV replies. - for NAT
## Symbolic host names are also accepted for gateways with dynamic IP
## addresses

# AnonymousRation 1 10

## Запретить скачку файлов владельцем которых является "ftp", т.е.
## файлы были загружены но не одобрены местным (локальным) админом.
## (Название пункта интересное:)))

AntiWarez yes

## IP адрес/порт на которых слушаем (дефолт = все IP и порт 21)

# Bind 127.0.0.1,21

## Максимальная скорость для анонимоусов в КВ/s

# AnonymousBandwidth 8

## Максимальная скорость для всех юзеров (включая анонимов) в KB/s
## Используйте что нить одно, использовать оба парамметра не имеет смысла.

# UserBandwidth 8

## Маска для создаваемых файлов. <umask для файлов>:<umask для директорий>.
## 177:077 - если вы параноик :)
## umask - это такое число, при вычитании которого из максимума (777) и
## получается нужная маска. т.е. для случая ниже маски будут, соответствено:
## 644 для файлов, и 755 для директорий.

Umask 177:077

## Минимальный UID с которым юзер будет пущен.

# MinUID 40

## Разрешить передачу FXP для авторизованных юзеров.
## (Это передача файлов прям между серверами - т.е. если вам надо
## скопировать файл с одного сервака на другой, вы его тащите
## к себе, затем кладёте куда надо. При включении этой опции сервера
## сами перекинут файл между собой. Но это палево - я серверов с
## включенной этой функцией ещё не видел :)))

AllowUserFXP no

## Разрешить передачу FXP для анонимоусов и не-анонимоусов
## (видимо, для всех вообще) .

AllowAnonymousFXP no

## Пользователи не могут удалять и изменять файлы начинающиеся на точку ('.')
## даже если они их владельцы. Если TrustedGID включена, эта группа имеет
## доступ к этим файлам.

ProhibitDotFileWrite yes

## Запретить чтение файлов начинающихся с точки (.history, .ssh ......)

ProhibitDotFilesRead no

## Никогда не перезаписывать файлы. Когда имя, для закачиваемого файла уже
## существует, он будет автоматичеси переименован в file.1, file.2, file.3 .........

AutoRename yes

## Запретить анонимным юзерам загружать новые файлы (no = аплода разрешён)

AnonymousCantUpload yes

## Только подключения к этому IP адресу могут быть не анонимными. Вы
## можете использовать эту директиву чтобы использовать несколько IP
## для анонимного FTP, и оставить приватный, зафайрволенный IP для
## удаленного администрирования. Также вы можете разрешить нероутабельный
## локальный IP (тип 10.х.х.х) для аутентификации и оставить публичный
## (для анонимоусов) FTP-сервер на другом IP.

# TrustedIP 10.1.1.1

## Если вы хотите чтобы PID добавлялся в каждую линию лога,
## то раскоментируйте следующую линию.

# LogPID yes

## Создовать дополнительный лог-файл с логом в формате типа "apache":
## fw.c9x.org - jedi [13/Dec/1975:19:36:39] "GET /icap.tar.bz2" 200 21808
## анализ логов апача.

# AltLog clf:/var/log/pureftpd.log

## Создавать дополнительный лог-файл в формате оптимизированном для
## статистических отчетов (х.з. как это. Наддо будет посмотреть)

# AltLog stata:/var/log/pureftpd.log

## Создовать еще один лог с переданными файлами в стандарте W3C
## (совместим с многими коммерческими анализаторами)

# AltLog w3c:/var/log/pureftpd.log

## Отключить команду CHMOD. Пользователи не смогут менять разрешения
## на файлы

# NoChmod yes

## Позволить юзерам закачиват, но не удалять файлы.

# KeepAllFiles yes

## Автоматически создавать домашнюю директорию пользователя,
## если она отсутствует

# CreateHomeDir yes

## Включить виртуальную квоту. Первое число - максимальное число файлов.
## Второе число - максимальный размер, в мегабайтах.
## Так 1000:10 ограничивает каждого пользователя 1000 файлов и 10-ю мегами.

# Quota 1000:10

## Если pure-ftpd скомпилен с поддержкой standalone режима, вы можете изменить
## местоположениу pid-файла. Дефолтовое положение - /var/run/pure-ftpd.pid

# PIDFile /var/run/pure-ftpd.pid

## Если pure-ftpd скомпилен с поддержкой pure-uploadscript, то этот пункт
## позволяет писать информацию о новых загруженных файлах в
## /var/run/pure-ftpd.upload.pipe так что pure-uploadscript
## может прочесть их и обработать загруженный файл.

# CallUploadScript yes

## Эта опция полезна на серверах, где позволен аплоад анонимоусам.
## Если /var/ftp находится в отдельном разделе /var, это позволяет
## сохранить свободное место и защитить файлы логов. Когда процент
## заполнения больше чем указанный тут, аплоад автоматом запрещается.

MaxDiskUsage 99

## Установить 'yes' в этой опции если хотите разрешить юзерам
## переименовывать файлы.

NoRename yes

## Включить 'customer proof' : какая-то ошибка, типа 'chmod 0 public_html',
## при совместной работе, чтоль... Короче это не баг а фича... :) И чтобы
## тупые клиенты не напрягали ваш саппортнадо поставить 'yes' в этом
## пункте. Если клиенты имеют немного знаний по Unix то эта фича
## бесполезна. Если у Вас хостинг - включите её.
## (перевод почти дословный - но про что речь так и не понял....)

CustomerProof yes

## Число параллельных процессов. Работает тока если сервер был
## скомпилен с опцией '--with-peruserlimits' (тут че-то про то, что
## в большинстве бинарных дистрибутивов так оно и есть).
## Формат :<максимум сессий на юзера>:<максимум сеансов анонимоусов>
## Например, 3:20 значит что аутентифицированный юзер может иметь три
## активных сеанса. А на всех анонимов - максимум 20 сеансов.

# PerUserLimits 3:20

## Эта опция может принимать три значения:
## 0 - отключить SSL/TLS шифрование (по-умолчанию).
## 1 - принимать и шифрованные и обычные подключения.
## 2 - отклонять подключения которые не используют SSL/TLS,
## включая анонимные соединения.
## Не раскомментируйте это вслепую. Проверьте, что:
## 1) Сервер скомпилен с поддержкой SSL/TLS (--with-tls)
## 2) Положен валидный сертификат
## 3) Только совместимые клиенты залогиняться.

# TLS 1

## Слушается тока IPv4 адрес в режиме standalone (т.е. IPv6 отключен)
## По дефолту IPv4 и IPv6 включены

# IPV4Only yes

## Слушается тока IPv6 адрес в режиме standalone (т.е. IPv6 отключен)
## По дефолту IPv4 и IPv6 включены

# IPV6Only yes

## Поддержка UTF-8 для имен файлов (RFC 2640)
## Определите кодировку для файловой системы сервера и, опционально,
## дефолтовую кодировку для клиентов, которые не юзают UTF-8.
## Работает тока если pure-ftpd скомпилен с '--with-rfc2640'

# FileSystemCharset big5

# ClientCharset big5

FileSystemCharset koi8-r

ClientCharset cp1251

################################################################
